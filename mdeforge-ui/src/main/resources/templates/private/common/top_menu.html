<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div th:fragment="copy">

    <div class="navbar main">

        <!-- Menu Toggle Button -->
        <button type="button" class="btn btn-navbar pull-left">
            <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
        </button>
        <!-- // Menu Toggle Button END -->
        <!-- Not Blank page -->

        <!-- Full Top Style -->
        <ul class="topnav pull-left">

            <li class="dropdown dd-1">
                <a href="#upload-artifact" data-toggle="modal" class="glyphicons cloud-upload"><i></i> ARTIFACT UPLOAD <!--  <span class="caret"></span>--></a>
            </li>

            <!-- <li><a th:href="@{/public/search}" class="glyphicons search"><i></i> Search</a></li>	 -->

            <li class="glyphs hidden-tablet hidden-phone">
                <ul>
                    <li><a th:href="@{/public/dashboard}" class="glyphicons folder_open" data-toggle="tooltip" data-title="Browse the repository" data-placement="bottom" data-original-title="" title=""><i></i></a></li>
                    <li><a th:href="@{/public/search}" class="glyphicons search" data-toggle="tooltip" data-title="Search Artifacts" data-placement="bottom" data-original-title="" title=""><i></i></a></li>
                    <li><a th:href="@{/private/dashboard}" class="glyphicons dashboard" data-toggle="tooltip" data-title="Dashboard" data-placement="bottom" data-original-title="" title=""><i></i></a></li>
                </ul>
            </li>

            <li class="search open">
                <form th:action="@{/public/search}" th:method="get" class="dropdown dd-1">
                    <input type="text" value="" placeholder="Search Artifacts.." name="search_string" />
                    <button type="button" class="glyphicons search"><i></i></button>
                </form>
            </li>
        </ul>
        <!-- // Full Top Style END -->
        <!-- // Not Blank Page END -->
        <!-- Top Menu Right -->
        <ul class="topnav pull-right">
            <!-- Themer -->
            <li class="">
                <a th:href="@{/}"><span class="hidden-tablet hidden-phone">MDE Forge Home</span></a>
            </li>
            <li class="account dropdown dd-1">
                <a data-toggle="dropdown" href="#" class="logout">

                    <th:block th:if="${#request.userPrincipal.principal?.oauth}">
                        <span class="hidden-tablet hidden-phone" th:text="${#request.userPrincipal.principal.name}"></span>
                    </th:block>

                    <th:block th:unless="${#request.userPrincipal.principal?.oauth}">
                        <span class="hidden-tablet hidden-phone" th:text="${#request.userPrincipal.principal.username}"></span>
                    </th:block>

                </a>
                <ul class="dropdown-menu pull-right">
                    <li class="profile">
				    <span>

                        <th:block th:if="${#request.userPrincipal.principal?.oauth}">

                            <img id="imagePreview" th:src="@{/private/}"alt="Profile Photo"/>
                            <div class="details">

                                <!--<a href="#"><span th:text="${#request.userPrincipal.principal.firstname}"></span> <span th:text="${#request.userPrincipal.principal.lastname}"></span></a>-->
                                <br>
                                <a href="#"><span th:text="${#request.userPrincipal.principal.email}"></span></a>
                            </div>

                        </th:block>

                        <th:block th:unless="${#request.userPrincipal.principal?.oauth}">

                            <img id="imagePreview" th:src="@{/private/}"alt="Profile Photo"/>
                            <div class="details">

                                <a href="#"><span th:text="${#request.userPrincipal.principal.firstname}"></span> <span th:text="${#request.userPrincipal.principal.lastname}"></span></a>
                                <br>
                                <a href="#"><span th:text="${#request.userPrincipal.principal.email}"></span></a>

                            </div>
                        </th:block>

                        <!--<input type="hidden" th:value="${#request.userPrincipal.principal.id}" id="loggedUserId">-->

					    <!--<c:url var="im" value="/private/getPhoto?id=${logged_user.image}" />-->

                    </span>
                        <span class="clearfix"></span>
                        </span>
                    </li>
                    <li><a th:href="@{/private/dashboard}" class="menu-right-dropdown pull-right">Dashboard</a></li>
                    <!-- <li><a href="${pageContext.request.contextPath}/private/change_password" class="menu-right-dropdown pull-right">Change password</a></li>-->
                    <li><a th:href="@{/private/update_account}" class="menu-right-dropdown pull-right">Account</a></li>
                    <li><a th:href="@{/}" class="menu-right-dropdown pull-right">MDE Forge Home</a></li>
                    <hr>
                    <li>
                        <form th:action="@{/logout}" th:method="post">
                            <button id="logout" class="btn btn-default pull-right" type="submit">Log out</button>
                        </form>
                    </li>
                </ul>
            </li>
            <!-- // Profile / Logout menu END -->

        </ul>
        <!-- // Top Menu Right END -->
        <div class="clearfix"></div>

    </div>
</div>

</body>
</html>